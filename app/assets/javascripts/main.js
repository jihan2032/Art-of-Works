"use strict";function getData(){var a='[{"ch": 1, "id": 1, "title": "hello-1", "pid": 0},{"ch": 2, "id": 2, "title": "hello-2", "pid": 1},{"ch": 2, "id": 3, "title": "hello-3", "pid": 1},{"ch": 2, "id": 4, "title": "hello-4", "pid": 1},{"ch": 2, "id": 5, "title": "hello-5", "pid": 1},{"ch": 3, "id": 6, "title": "hello-6", "pid": 2},{"ch": 3, "id": 7, "title": "hello-7", "pid": 2},{"ch": 3, "id": 8, "title": "hello-8", "pid": 2},{"ch": 3, "id": 9, "title": "hello-9", "pid": 2},{"ch": 3, "id": 10, "title": "hello-10", "pid": 3},{"ch": 3, "id": 11, "title": "hello-11", "pid": 3},{"ch": 3, "id": 12, "title": "hello-12", "pid": 3},{"ch": 3, "id": 13, "title": "hello-13", "pid": 3},{"ch": 3, "id": 14, "title": "hello-14", "pid": 4},{"ch": 3, "id": 15, "title": "hello-15", "pid": 4},{"ch": 3, "id": 16, "title": "hello-16", "pid": 4},{"ch": 3, "id": 17, "title": "hello-17", "pid": 4},{"ch": 3, "id": 18, "title": "hello-18", "pid": 5},{"ch": 3, "id": 19, "title": "hello-19", "pid": 5},{"ch": 3, "id": 20, "title": "hello-20", "pid": 5},{"ch": 3, "id": 21, "title": "hello-21", "pid": 5},{"ch": 4, "id": 22, "title": "hello-22", "pid": 6},{"ch": 4, "id": 23, "title": "hello-23", "pid": 6},{"ch": 4, "id": 24, "title": "hello-24", "pid": 6},{"ch": 4, "id": 25, "title": "hello-25", "pid": 6},{"ch": 4, "id": 26, "title": "hello-26", "pid": 7},{"ch": 4, "id": 27, "title": "hello-27", "pid": 7},{"ch": 4, "id": 28, "title": "hello-28", "pid": 7},{"ch": 4, "id": 29, "title": "hello-29", "pid": 7},{"ch": 4, "id": 30, "title": "hello-30", "pid": 8},{"ch": 4, "id": 31, "title": "hello-31", "pid": 8},{"ch": 4, "id": 32, "title": "hello-32", "pid": 8},{"ch": 4, "id": 33, "title": "hello-33", "pid": 8},{"ch": 4, "id": 34, "title": "hello-34", "pid": 9},{"ch": 4, "id": 35, "title": "hello-35", "pid": 9},{"ch": 4, "id": 36, "title": "hello-36", "pid": 10},{"ch": 4, "id": 37, "title": "hello-37", "pid": 10},{"ch": 4, "id": 38, "title": "hello-38", "pid": 11},{"ch": 4, "id": 39, "title": "hello-39", "pid": 11},{"ch": 4, "id": 40, "title": "hello-40", "pid": 11},{"ch": 4, "id": 41, "title": "hello-41", "pid": 12},{"ch": 4, "id": 42, "title": "hello-42", "pid": 12},{"ch": 4, "id": 43, "title": "hello-43", "pid": 12},{"ch": 4, "id": 44, "title": "hello-44", "pid": 12},{"ch": 4, "id": 45, "title": "hello-45", "pid": 12},{"ch": 4, "id": 46, "title": "hello-46", "pid": 13},{"ch": 4, "id": 47, "title": "hello-47", "pid": 13},{"ch": 4, "id": 48, "title": "hello-48", "pid": 14},{"ch": 4, "id": 49, "title": "hello-49", "pid": 14},{"ch": 4, "id": 50, "title": "hello-50", "pid": 15},{"ch": 4, "id": 51, "title": "hello-51", "pid": 15},{"ch": 4, "id": 52, "title": "hello-52", "pid": 15}]';return JSON.parse(a)}function getChapters(a,b,c){return a.filter(function(a){return(0===c||a.pid===c)&&a.ch===b})}function getMaxChapter(a){return a.reduce(function(a,b){return a.ch>=b.ch?a:b},{ch:0})}function _buildTreeLevels(a){var b=getMaxChapter(a).ch;maxChapterNumber=b;for(var c=new Array(b),d=0;b>d;d++)c[d]=getChapters(a,d+1,0);return c}function chapterToSlide(a){return'<div class="slide" id="'+a.id+'" data-parent="'+a.pid+'"><div class="slide-content"><h4>'+a.title+"</h4></div></div>"}function buildChapterSlides(){var a=getData(),b=_buildTreeLevels(a);return b.map(function(a){return a.map(function(a){return a.html=chapterToSlide(a),a})})}function getChapterSiblings(a,b){return a.filter(function(a){return b.pid==a.pid})}function getChapterChildren(a,b){return a.filter(function(a){return chapter.id==a.pid})}function replaceSlides(a,b){clearSlick(a),b.forEach(function(b,c,d){a.slick("slickAdd",b.html)})}function clearSlick(a){for(;a.slick("slickRemove",0););}var maxChapterNumber,chaptersTree;chaptersTree=buildChapterSlides(),$(document).ready(function(){if($("#editor").length>0){new Quill("#editor",{modules:{toolbar:{container:"#toolbar"},"link-tooltip":!0},theme:"snow"})}$(".slider-1, .slider-2, .slider-3").slick({slidesToShow:3,centerPadding:"10px",centerMode:!0,adaptiveHeight:!0,draggable:!1}),$(chaptersTree).each(function(a,b){var c=$(".slider-"+(a+1));c.prop("data-chapter",a+1),$(b).each(function(a,b){c.slick("slickAdd",b.html)})})}),$(".slider-1").on("click",".slick-active.slick-center",function(){var a=$(".slider-1"),b=$(".slider-2"),c=$(".slider-3"),d=parseInt(a.prop("data-chapter")),e=parseInt(b.prop("data-chapter")),f=parseInt(c.prop("data-chapter"));1>=d||(replaceSlides(a,chaptersTree[d-2]),replaceSlides(b,chaptersTree[e-2]),replaceSlides(c,chaptersTree[f-2]),a.prop("data-chapter",d-1),b.prop("data-chapter",e-1),c.prop("data-chapter",f-1))}),$(".slider-2 .slick-center").on("click",function(){}),$(".slider-3").on("click",".slick-active.slick-center",function(){var a=$(".slider-1"),b=$(".slider-2"),c=$(".slider-3"),d=parseInt(a.prop("data-chapter")),e=parseInt(b.prop("data-chapter")),f=parseInt(c.prop("data-chapter"));f>=maxChapterNumber||(replaceSlides(a,chaptersTree[d]),replaceSlides(b,chaptersTree[e]),replaceSlides(c,chaptersTree[f]),a.prop("data-chapter",d+1),b.prop("data-chapter",e+1),c.prop("data-chapter",f+1))}),$(".slider-1").on("beforeChange",function(a,b,c,d){var e=b.$slides[d].id;$(".slider-2").slick("slickFilter","[data-parent="+e+"]")}),$(".slider-2").on("beforeChange",function(a,b,c,d){var e=b.$slides[d].id;$(".slider-3").slick("slickFilter","[data-parent="+e+"]")}),$(".slider-3").on("beforeChange",function(a,b,c,d){});